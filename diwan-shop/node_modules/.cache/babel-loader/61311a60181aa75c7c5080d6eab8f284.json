{"ast":null,"code":"// import React, { useState, useContext, useEffect } from \"react\";\n// import { useDispatch, useSelector } from \"react-redux\";\n\n// import { Alert } from \"reactstrap\";\n// import \"./RegisterScreen.css\";\n// import axios from \"axios\";\n// import authApi from \"../../api/auth\";\n// import { DISPLAY_ALERT, SETUP_USER_SUCCESS } from \"../../rtk/slices/authSlice\";\n// import UserContext from \"../../context/userContext\";\n\n// function LoginScreen(props) {\n//   const { user, setUser } = useContext(UserContext);\n//   console.log(user);\n//   const { showAlert, alertType, alertText } = useSelector(\n//     (state) => state.auth\n//   );\n\n//   const [data, setData] = useState({\n//     email: \"\",\n//     password: \"\",\n//   });\n//   const dispatch = useDispatch();\n//   const fetchData = async (e) => {\n//     if (user) {\n//       dispatch(SETUP_USER_SUCCESS({ user: user }));\n//     }\n//     if (!data.email || !data.password) {\n//       dispatch(DISPLAY_ALERT());\n//     }\n//     e.preventDefault();\n//     try {\n//       const res = await axios.post(\"/login\", data);\n//       // const data = await res.json();\n//       console.log(res.data.token);\n//       authApi.setToken(res.data.token);\n//     } catch (e) {\n//       console.log(e.response.data.msg);\n//     }\n//   };\n\n//   return (\n//     <>\n//       <form onSubmit={fetchData}>\n//         <h3>Log In</h3>\n//         {showAlert && <Alert color={alertType}>{alertText}</Alert>}\n//         <div className=\"mb-3 text-start\">\n//           <label>Email address</label>\n//           <input\n//             type=\"email\"\n//             className=\"form-control\"\n//             onChange={(e) => setData({ ...data, email: e.target.value })}\n//           />\n//         </div>\n\n//         <div className=\"mb-3 text-start\">\n//           <label>Password</label>\n//           <input\n//             type=\"password\"\n//             className=\"form-control\"\n//             onChange={(e) => setData({ ...data, password: e.target.value })}\n//           />\n//         </div>\n\n//         <div className=\"d-grid\">\n//           <button type=\"submit\" className=\"btn btn-primary\">\n//             Log In\n//           </button>\n//         </div>\n//         <p className=\"forgot-password text-right\">\n//           <a href=\"/sign-in\">Reset password?</a>\n//         </p>\n//       </form>\n//     </>\n//   );\n// }\n\n// export default LoginScreen;","map":{"version":3,"names":[],"sources":["C:/Users/MohannadDiwan/Desktop/E-commerce/diwan-shop/src/component/registrtScreen.js/LoginScreen.js"],"sourcesContent":["// import React, { useState, useContext, useEffect } from \"react\";\r\n// import { useDispatch, useSelector } from \"react-redux\";\r\n\r\n// import { Alert } from \"reactstrap\";\r\n// import \"./RegisterScreen.css\";\r\n// import axios from \"axios\";\r\n// import authApi from \"../../api/auth\";\r\n// import { DISPLAY_ALERT, SETUP_USER_SUCCESS } from \"../../rtk/slices/authSlice\";\r\n// import UserContext from \"../../context/userContext\";\r\n\r\n// function LoginScreen(props) {\r\n//   const { user, setUser } = useContext(UserContext);\r\n//   console.log(user);\r\n//   const { showAlert, alertType, alertText } = useSelector(\r\n//     (state) => state.auth\r\n//   );\r\n\r\n//   const [data, setData] = useState({\r\n//     email: \"\",\r\n//     password: \"\",\r\n//   });\r\n//   const dispatch = useDispatch();\r\n//   const fetchData = async (e) => {\r\n//     if (user) {\r\n//       dispatch(SETUP_USER_SUCCESS({ user: user }));\r\n//     }\r\n//     if (!data.email || !data.password) {\r\n//       dispatch(DISPLAY_ALERT());\r\n//     }\r\n//     e.preventDefault();\r\n//     try {\r\n//       const res = await axios.post(\"/login\", data);\r\n//       // const data = await res.json();\r\n//       console.log(res.data.token);\r\n//       authApi.setToken(res.data.token);\r\n//     } catch (e) {\r\n//       console.log(e.response.data.msg);\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <>\r\n//       <form onSubmit={fetchData}>\r\n//         <h3>Log In</h3>\r\n//         {showAlert && <Alert color={alertType}>{alertText}</Alert>}\r\n//         <div className=\"mb-3 text-start\">\r\n//           <label>Email address</label>\r\n//           <input\r\n//             type=\"email\"\r\n//             className=\"form-control\"\r\n//             onChange={(e) => setData({ ...data, email: e.target.value })}\r\n//           />\r\n//         </div>\r\n\r\n//         <div className=\"mb-3 text-start\">\r\n//           <label>Password</label>\r\n//           <input\r\n//             type=\"password\"\r\n//             className=\"form-control\"\r\n//             onChange={(e) => setData({ ...data, password: e.target.value })}\r\n//           />\r\n//         </div>\r\n\r\n//         <div className=\"d-grid\">\r\n//           <button type=\"submit\" className=\"btn btn-primary\">\r\n//             Log In\r\n//           </button>\r\n//         </div>\r\n//         <p className=\"forgot-password text-right\">\r\n//           <a href=\"/sign-in\">Reset password?</a>\r\n//         </p>\r\n//       </form>\r\n//     </>\r\n//   );\r\n// }\r\n\r\n// export default LoginScreen;\r\n"],"mappings":"AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module"}